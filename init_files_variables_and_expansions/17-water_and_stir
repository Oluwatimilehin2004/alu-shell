#!/bin/bash
cv() { n=$1 b=$2 r=0 bl=${#b}; for ((i=0;i<${#n};i++)); do c=${n:i:1}; [[ $c != "." ]] && for ((j=0;j<bl;j++)); do [[ "$c" = "${b:j:1}" ]] && { r=$((r*bl+j)); break; }; done; done; echo $r; }; dc() { n=$1 b=$2 bl=${#b} r=""; [[ $n -eq 0 ]] && { echo "${b:0:1}"; return; }; while [ $n -gt 0 ]; do r="${b:n%bl:1}$r"; n=$((n/bl)); done; echo "$r"; }; dc $(( $(cv "$WATER" "water") + $(cv "$STIR" "stir") )) "bestchol"
